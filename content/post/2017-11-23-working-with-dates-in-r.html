---
title: Working with dates in R
author: Abhijit Dasgupta
date: '2017-11-23'
slug: working-with-dates-in-r
draft: true
categories: ['R']
tags:
  - Data types
---



<div id="the-date-class" class="section level3">
<h3>The <code>Date</code> class</h3>
<p>R provides a <code>Date</code> class, which represents dates internally as number of days since
January 1, 1970. Date objects are typically created from character strings that represent dates, but
require specifying the format. The default format is <code>YYYY-MM-DD</code>.</p>
<pre class="r"><code>dt &lt;- as.Date(&#39;2017-11-23&#39;)
dt &lt;- as.Date(&#39;11/23/17&#39;, format = &#39;%m/%d/%y&#39;) # Gives the same answer</code></pre>
<p>You can also format dates for printing into most formats:</p>
<pre class="r"><code>format(dt, &#39;%B %d, %Y&#39;)</code></pre>
<pre><code>## [1] &quot;November 23, 2017&quot;</code></pre>
<pre class="r"><code>format(dt, &#39;%b %d, %Y&#39;)</code></pre>
<pre><code>## [1] &quot;Nov 23, 2017&quot;</code></pre>
<pre class="r"><code>format(dt, &#39;%m/%d/%y&#39;)</code></pre>
<pre><code>## [1] &quot;11/23/17&quot;</code></pre>
<pre class="r"><code>format(dt, &#39;%d/%m/%y&#39;)</code></pre>
<pre><code>## [1] &quot;23/11/17&quot;</code></pre>
<pre class="r"><code>format(dt, &#39;%Y-%m-%d&#39;)</code></pre>
<pre><code>## [1] &quot;2017-11-23&quot;</code></pre>
<p>The numeric representation of this date can be seen by using the <code>as.numeric</code> function:</p>
<pre class="r"><code>as.numeric(dt)</code></pre>
<pre><code>## [1] 17493</code></pre>
<div id="working-with-dates-from-sas" class="section level4">
<h4>Working with dates from SAS</h4>
<p>SAS also represents dates as numbers internally, but as days since January 1, <strong>1960</strong>. This can
lead to some fun times in converting dates. The function <code>haven::read_sas</code> does the right thing and creates the correct dates in R as <code>Date</code> objects.</p>
<p>The ambiguity in this origin story makes it probably a good practice to store dates as characters,
and convert them “on the fly” when you need to do some date manipulation. The preferred way to store
dates as text is in the form <code>YYYY-MM-DD</code>. The simple reason for this is that this format allows
alphabetical sorting to be the same as sorting by time.</p>
</div>
</div>
